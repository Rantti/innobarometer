{% extends 'base.html.twig' %}

{% block body %}

   <div class="table-responsive">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Username</th>
          <th>Email</th>
          <th>Project</th>
          <th>Team</th>
          <th>Roles</th>{% if is_granted("IS_AUTHENTICATED_REMEMBERED") %}
                {{ 'layout.logged_in_as'|trans({'%username%': app.user.username}, 'FOSUserBundle') }} | 
                <ul>
                {% for role in app.user.roles %}
                    <li>{{ role }}</li>
                {% endfor %}

                </ul>
                

                <a href="{{ path('fos_user_security_logout') }}">
                    {{ 'layout.logout'|trans({}, 'FOSUserBundle') }}
                </a>
            {% else %}
                <a href="{{ path('fos_user_security_login') }}">{{ 'layout.login'|trans({}, 'FOSUserBundle') }}</a>
            {% endif %}
          <th>Last Login</th>

        </tr>
      </thead>
      {% for user in users %}
        <tr>
          <td>{{ user.username }}</td>
          <td>{{ user.email }}</td>
          <td>N/A</td>
          <td>
          {% if user.team %}
            {{ user.team.teamName }}
          {% else %}
            N/A
          {% endif %}
          </td>
          <td>{%for role in user.roles%}{{role}}, {% endfor %}
          <td>{{ user.lastLogin|date('d-M-y H:i:s') }}</td>
          <td><a href="{{ path('removeuser', { id: user.id }) }}"><span class="glyphicon glyphicon-remove-circle"></span></a></td>
        </tr>
       {% endfor %}
      </tbody>
    </table>
  </div>




<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/ie10-viewport-bug-workaround.js"></script>
{% endblock %}


